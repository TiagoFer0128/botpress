"use strict";

const appendIngoingMsg = async () => {
  if (event.type === 'text' || event.type === 'quick_reply') {
    await bp.database('msg_history').insert({
      created_on: event.createdOn,
      thread_id: event.threadId,
      msg_content: JSON.stringify(event)
    });
  }
};

return appendIngoingMsg();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcGVuZEluZ29pbmdNc2cuanMiXSwibmFtZXMiOlsiYXBwZW5kSW5nb2luZ01zZyIsImV2ZW50IiwidHlwZSIsImJwIiwiZGF0YWJhc2UiLCJpbnNlcnQiLCJjcmVhdGVkX29uIiwiY3JlYXRlZE9uIiwidGhyZWFkX2lkIiwidGhyZWFkSWQiLCJtc2dfY29udGVudCIsIkpTT04iLCJzdHJpbmdpZnkiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsZ0JBQWdCLEdBQUcsWUFBWTtBQUNuQyxNQUFJQyxLQUFLLENBQUNDLElBQU4sS0FBZSxNQUFmLElBQXlCRCxLQUFLLENBQUNDLElBQU4sS0FBZSxhQUE1QyxFQUEyRDtBQUN6RCxVQUFNQyxFQUFFLENBQUNDLFFBQUgsQ0FBWSxhQUFaLEVBQTJCQyxNQUEzQixDQUFrQztBQUN0Q0MsTUFBQUEsVUFBVSxFQUFFTCxLQUFLLENBQUNNLFNBRG9CO0FBRXRDQyxNQUFBQSxTQUFTLEVBQUVQLEtBQUssQ0FBQ1EsUUFGcUI7QUFHdENDLE1BQUFBLFdBQVcsRUFBRUMsSUFBSSxDQUFDQyxTQUFMLENBQWVYLEtBQWY7QUFIeUIsS0FBbEMsQ0FBTjtBQUtEO0FBQ0YsQ0FSRDs7QUFVQSxPQUFPRCxnQkFBZ0IsRUFBdkIiLCJzb3VyY2VSb290IjoiL2hvbWUvZnJhbmNvaXMvRG9jdW1lbnRzL2JvdHByZXNzLXJvb3QvYm90cHJlc3MvbW9kdWxlcy9oaXN0b3J5L3NyYy9iYWNrZW5kIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXBwZW5kSW5nb2luZ01zZyA9IGFzeW5jICgpID0+IHtcbiAgaWYgKGV2ZW50LnR5cGUgPT09ICd0ZXh0JyB8fCBldmVudC50eXBlID09PSAncXVpY2tfcmVwbHknKSB7XG4gICAgYXdhaXQgYnAuZGF0YWJhc2UoJ21zZ19oaXN0b3J5JykuaW5zZXJ0KHtcbiAgICAgIGNyZWF0ZWRfb246IGV2ZW50LmNyZWF0ZWRPbixcbiAgICAgIHRocmVhZF9pZDogZXZlbnQudGhyZWFkSWQsXG4gICAgICBtc2dfY29udGVudDogSlNPTi5zdHJpbmdpZnkoZXZlbnQpXG4gICAgfSlcbiAgfVxufVxuXG5yZXR1cm4gYXBwZW5kSW5nb2luZ01zZygpXG4iXX0=