"use strict";

const _ = require('lodash'); // We get the intent name from the event


const intent = _.get(event, 'nlu.intent.name');

if (intent === 'login') {
  //We prepare the payload to send to the channel web
  const payload = {
    type: 'custom',
    module: 'custom-component',
    component: 'default',
    endpoint: 'http://google.com',
    // Let's send the internal ID to the custom component
    userId: event.target // Note the array here, since you can send multiple payloads in the same reply

  };
  bp.events.replyToEvent(event, [payload]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luZm9ybS1vbi1kZW1hbmQuanMiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJpbnRlbnQiLCJnZXQiLCJldmVudCIsInBheWxvYWQiLCJ0eXBlIiwibW9kdWxlIiwiY29tcG9uZW50IiwiZW5kcG9pbnQiLCJ1c2VySWQiLCJ0YXJnZXQiLCJicCIsImV2ZW50cyIsInJlcGx5VG9FdmVudCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxDQUFDLEdBQUdDLE9BQU8sQ0FBQyxRQUFELENBQWpCLEMsQ0FFQTs7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRixDQUFDLENBQUNHLEdBQUYsQ0FBTUMsS0FBTixFQUFhLGlCQUFiLENBQWY7O0FBRUEsSUFBSUYsTUFBTSxLQUFLLE9BQWYsRUFBd0I7QUFDdEI7QUFDQSxRQUFNRyxPQUFPLEdBQUc7QUFDZEMsSUFBQUEsSUFBSSxFQUFFLFFBRFE7QUFFZEMsSUFBQUEsTUFBTSxFQUFFLGtCQUZNO0FBR2RDLElBQUFBLFNBQVMsRUFBRSxTQUhHO0FBSWRDLElBQUFBLFFBQVEsRUFBRSxtQkFKSTtBQU1kO0FBQ0FDLElBQUFBLE1BQU0sRUFBRU4sS0FBSyxDQUFDTyxNQVBBLENBVWhCOztBQVZnQixHQUFoQjtBQVdBQyxFQUFBQSxFQUFFLENBQUNDLE1BQUgsQ0FBVUMsWUFBVixDQUF1QlYsS0FBdkIsRUFBOEIsQ0FBQ0MsT0FBRCxDQUE5QjtBQUNEIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9yZW5hdWQvQ29kZS9Cb3RwcmVzcy9ib3RwcmVzcy9tb2R1bGVzL2N1c3RvbS1jb21wb25lbnQvc3JjL2JhY2tlbmQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfID0gcmVxdWlyZSgnbG9kYXNoJylcblxuLy8gV2UgZ2V0IHRoZSBpbnRlbnQgbmFtZSBmcm9tIHRoZSBldmVudFxuY29uc3QgaW50ZW50ID0gXy5nZXQoZXZlbnQsICdubHUuaW50ZW50Lm5hbWUnKVxuXG5pZiAoaW50ZW50ID09PSAnbG9naW4nKSB7XG4gIC8vV2UgcHJlcGFyZSB0aGUgcGF5bG9hZCB0byBzZW5kIHRvIHRoZSBjaGFubmVsIHdlYlxuICBjb25zdCBwYXlsb2FkID0ge1xuICAgIHR5cGU6ICdjdXN0b20nLFxuICAgIG1vZHVsZTogJ2N1c3RvbS1jb21wb25lbnQnLFxuICAgIGNvbXBvbmVudDogJ2RlZmF1bHQnLFxuICAgIGVuZHBvaW50OiAnaHR0cDovL2dvb2dsZS5jb20nLFxuXG4gICAgLy8gTGV0J3Mgc2VuZCB0aGUgaW50ZXJuYWwgSUQgdG8gdGhlIGN1c3RvbSBjb21wb25lbnRcbiAgICB1c2VySWQ6IGV2ZW50LnRhcmdldFxuICB9XG5cbiAgLy8gTm90ZSB0aGUgYXJyYXkgaGVyZSwgc2luY2UgeW91IGNhbiBzZW5kIG11bHRpcGxlIHBheWxvYWRzIGluIHRoZSBzYW1lIHJlcGx5XG4gIGJwLmV2ZW50cy5yZXBseVRvRXZlbnQoZXZlbnQsIFtwYXlsb2FkXSlcbn1cbiJdfQ==