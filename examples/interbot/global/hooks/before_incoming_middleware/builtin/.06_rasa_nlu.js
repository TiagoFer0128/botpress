//CHECKSUM:23d51bd06deda6f17c2e90a26df96a1d2952140102cbc3287779d7e16fe8052e
"use strict";

/**
 * This is an example of how to use Rasa NLU instead of Botpress NLU
 * To enable this, remove the 'dot' before the name of this file
 */
const axios = require('axios');

const eventTypes = ['text']; // Process only 'text' events

async function rasaExtract() {
  if (eventTypes.includes(event.type)) {
    const {
      data
    } = await axios.post('http://142.93.216.68:5000/parse', {
      q: event.preview
    });

    if (data) {
      /** TODO Here you will need to manipulate the format of these objects
       * so that they use the same format as Botpress NLU */
      event.nlu = event.nlu || {}; //event.nlu.intents = data.intent_ranking;

      event.nlu.intent = {};
      if (data.intent.name) event.nlu.intent.name = data.intent.name;else event.nlu.intent.name = 'none'; //event.nlu.entities = data.entities
      //event.nlu.language = data.results.language
      //event.nlu.sentiment = data.results.sentiment
      // Disable Native NLU

      event.setFlag(bp.IO.WellKnownFlags.SKIP_NATIVE_NLU, true);
    }
  }
}

return rasaExtract();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4wNl9yYXNhX25sdS5qcyJdLCJuYW1lcyI6WyJheGlvcyIsInJlcXVpcmUiLCJldmVudFR5cGVzIiwicmFzYUV4dHJhY3QiLCJpbmNsdWRlcyIsImV2ZW50IiwidHlwZSIsImRhdGEiLCJwb3N0IiwicSIsInByZXZpZXciLCJubHUiLCJpbnRlbnQiLCJuYW1lIiwic2V0RmxhZyIsImJwIiwiSU8iLCJXZWxsS25vd25GbGFncyIsIlNLSVBfTkFUSVZFX05MVSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUtBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBRUEsTUFBTUMsVUFBVSxHQUFHLENBQUMsTUFBRCxDQUFuQixDLENBQTRCOztBQUU1QixlQUFlQyxXQUFmLEdBQTZCO0FBQzNCLE1BQUlELFVBQVUsQ0FBQ0UsUUFBWCxDQUFvQkMsS0FBSyxDQUFDQyxJQUExQixDQUFKLEVBQXFDO0FBQ25DLFVBQU07QUFBRUMsTUFBQUE7QUFBRixRQUFXLE1BQU1QLEtBQUssQ0FBQ1EsSUFBTixDQUNyQixpQ0FEcUIsRUFFckI7QUFBRUMsTUFBQUEsQ0FBQyxFQUFFSixLQUFLLENBQUNLO0FBQVgsS0FGcUIsQ0FBdkI7O0FBSUEsUUFBSUgsSUFBSixFQUFVO0FBQ1I7O0FBRUFGLE1BQUFBLEtBQUssQ0FBQ00sR0FBTixHQUFZTixLQUFLLENBQUNNLEdBQU4sSUFBYSxFQUF6QixDQUhRLENBSVI7O0FBQ0FOLE1BQUFBLEtBQUssQ0FBQ00sR0FBTixDQUFVQyxNQUFWLEdBQW1CLEVBQW5CO0FBQ0EsVUFBR0wsSUFBSSxDQUFDSyxNQUFMLENBQVlDLElBQWYsRUFDQ1IsS0FBSyxDQUFDTSxHQUFOLENBQVVDLE1BQVYsQ0FBaUJDLElBQWpCLEdBQXdCTixJQUFJLENBQUNLLE1BQUwsQ0FBWUMsSUFBcEMsQ0FERCxLQUdMUixLQUFLLENBQUNNLEdBQU4sQ0FBVUMsTUFBVixDQUFpQkMsSUFBakIsR0FBd0IsTUFBeEIsQ0FUYSxDQVVSO0FBQ0E7QUFDQTtBQUNBOztBQUNBUixNQUFBQSxLQUFLLENBQUNTLE9BQU4sQ0FBY0MsRUFBRSxDQUFDQyxFQUFILENBQU1DLGNBQU4sQ0FBcUJDLGVBQW5DLEVBQW9ELElBQXBEO0FBQ0Q7QUFDRjtBQUNGOztBQUVELE9BQU9mLFdBQVcsRUFBbEIiLCJzb3VyY2VSb290IjoiL1ZvbHVtZXMvYnAvYm90cHJlc3MvbW9kdWxlcy9idWlsdGluL3NyYy9iYWNrZW5kIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGlzIGFuIGV4YW1wbGUgb2YgaG93IHRvIHVzZSBSYXNhIE5MVSBpbnN0ZWFkIG9mIEJvdHByZXNzIE5MVVxuICogVG8gZW5hYmxlIHRoaXMsIHJlbW92ZSB0aGUgJ2RvdCcgYmVmb3JlIHRoZSBuYW1lIG9mIHRoaXMgZmlsZVxuICovXG5cbmNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKVxuXG5jb25zdCBldmVudFR5cGVzID0gWyd0ZXh0J10gLy8gUHJvY2VzcyBvbmx5ICd0ZXh0JyBldmVudHNcblxuYXN5bmMgZnVuY3Rpb24gcmFzYUV4dHJhY3QoKSB7XG4gIGlmIChldmVudFR5cGVzLmluY2x1ZGVzKGV2ZW50LnR5cGUpKSB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBheGlvcy5wb3N0KFxuICAgICAgJ2h0dHA6Ly8xNDIuOTMuMjE2LjY4OjUwMDAvcGFyc2UnLFxuICAgICAgeyBxOiBldmVudC5wcmV2aWV3IH1cblx0KVxuICAgIGlmIChkYXRhKSB7XG4gICAgICAvKiogVE9ETyBIZXJlIHlvdSB3aWxsIG5lZWQgdG8gbWFuaXB1bGF0ZSB0aGUgZm9ybWF0IG9mIHRoZXNlIG9iamVjdHNcbiAgICAgICAqIHNvIHRoYXQgdGhleSB1c2UgdGhlIHNhbWUgZm9ybWF0IGFzIEJvdHByZXNzIE5MVSAqL1xuICAgICAgZXZlbnQubmx1ID0gZXZlbnQubmx1IHx8IHt9XG4gICAgICAvL2V2ZW50Lm5sdS5pbnRlbnRzID0gZGF0YS5pbnRlbnRfcmFua2luZztcbiAgICAgIGV2ZW50Lm5sdS5pbnRlbnQgPSB7fTtcbiAgICAgIGlmKGRhdGEuaW50ZW50Lm5hbWUpXG4gICAgICBcdGV2ZW50Lm5sdS5pbnRlbnQubmFtZSA9IGRhdGEuaW50ZW50Lm5hbWU7XG4gICAgICBlbHNlXG5cdGV2ZW50Lm5sdS5pbnRlbnQubmFtZSA9ICdub25lJzsgXG4gICAgICAvL2V2ZW50Lm5sdS5lbnRpdGllcyA9IGRhdGEuZW50aXRpZXNcbiAgICAgIC8vZXZlbnQubmx1Lmxhbmd1YWdlID0gZGF0YS5yZXN1bHRzLmxhbmd1YWdlXG4gICAgICAvL2V2ZW50Lm5sdS5zZW50aW1lbnQgPSBkYXRhLnJlc3VsdHMuc2VudGltZW50XG4gICAgICAvLyBEaXNhYmxlIE5hdGl2ZSBOTFVcbiAgICAgIGV2ZW50LnNldEZsYWcoYnAuSU8uV2VsbEtub3duRmxhZ3MuU0tJUF9OQVRJVkVfTkxVLCB0cnVlKVxuICAgIH1cbiAgfVxufVxuXG5yZXR1cm4gcmFzYUV4dHJhY3QoKVxuIl19