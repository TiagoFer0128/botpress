//CHECKSUM:ec620971a2450bae66eee8b1618a22ffa76724683e04fb1bb9d23a0abd0ea43e
"use strict";

if (event.state && event.state.session && event.state.session.nluContexts) {
  if (event.nlu && !event.nlu.errored) {
    event.state.session.nluContexts.forEach(x => --x.ttl); // Remove contexts that have expired

    event.state.session.nluContexts = event.state.session.nluContexts.filter(x => x.ttl > 0);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAxX2V4cGlyZV9ubHVfY29udGV4dHMuanMiXSwibmFtZXMiOlsiZXZlbnQiLCJzdGF0ZSIsInNlc3Npb24iLCJubHVDb250ZXh0cyIsIm5sdSIsImVycm9yZWQiLCJmb3JFYWNoIiwieCIsInR0bCIsImZpbHRlciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxLQUFLLENBQUNDLEtBQU4sSUFBZUQsS0FBSyxDQUFDQyxLQUFOLENBQVlDLE9BQTNCLElBQXNDRixLQUFLLENBQUNDLEtBQU4sQ0FBWUMsT0FBWixDQUFvQkMsV0FBOUQsRUFBMkU7QUFDekUsTUFBSUgsS0FBSyxDQUFDSSxHQUFOLElBQWEsQ0FBQ0osS0FBSyxDQUFDSSxHQUFOLENBQVVDLE9BQTVCLEVBQXFDO0FBQ25DTCxJQUFBQSxLQUFLLENBQUNDLEtBQU4sQ0FBWUMsT0FBWixDQUFvQkMsV0FBcEIsQ0FBZ0NHLE9BQWhDLENBQXdDQyxDQUFDLElBQUksRUFBRUEsQ0FBQyxDQUFDQyxHQUFqRCxFQURtQyxDQUVuQzs7QUFDQVIsSUFBQUEsS0FBSyxDQUFDQyxLQUFOLENBQVlDLE9BQVosQ0FBb0JDLFdBQXBCLEdBQWtDSCxLQUFLLENBQUNDLEtBQU4sQ0FBWUMsT0FBWixDQUFvQkMsV0FBcEIsQ0FBZ0NNLE1BQWhDLENBQXVDRixDQUFDLElBQUlBLENBQUMsQ0FBQ0MsR0FBRixHQUFRLENBQXBELENBQWxDO0FBQ0Q7QUFDRiIsInNvdXJjZVJvb3QiOiIvVm9sdW1lcy9icC9ib3RwcmVzcy9tb2R1bGVzL2J1aWx0aW4vc3JjL2JhY2tlbmQiLCJzb3VyY2VzQ29udGVudCI6WyJpZiAoZXZlbnQuc3RhdGUgJiYgZXZlbnQuc3RhdGUuc2Vzc2lvbiAmJiBldmVudC5zdGF0ZS5zZXNzaW9uLm5sdUNvbnRleHRzKSB7XG4gIGlmIChldmVudC5ubHUgJiYgIWV2ZW50Lm5sdS5lcnJvcmVkKSB7XG4gICAgZXZlbnQuc3RhdGUuc2Vzc2lvbi5ubHVDb250ZXh0cy5mb3JFYWNoKHggPT4gLS14LnR0bClcbiAgICAvLyBSZW1vdmUgY29udGV4dHMgdGhhdCBoYXZlIGV4cGlyZWRcbiAgICBldmVudC5zdGF0ZS5zZXNzaW9uLm5sdUNvbnRleHRzID0gZXZlbnQuc3RhdGUuc2Vzc2lvbi5ubHVDb250ZXh0cy5maWx0ZXIoeCA9PiB4LnR0bCA+IDApXG4gIH1cbn1cbiJdfQ==